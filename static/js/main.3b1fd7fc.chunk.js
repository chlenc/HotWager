(this.webpackJsonphotwager=this.webpackJsonphotwager||[]).push([[0],{176:function(e,t,n){e.exports=n(310)},181:function(e,t,n){},310:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(9),c=n.n(o),i=(n(181),n(13)),s=n(25),u=n(18),l=n(17),d=n(19),b=n(23),p=n(44),f=n(26),h=n(16),O=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).instance=void 0,n.setRef=function(e){n.instance=e},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.botName,n=e.buttonSize,r=void 0===n?"medium":n,o=e.cornerRadius,c=e.requestAccess,i=void 0===c?"write":c,s=e.usePic,u=void 0!==s&&s,l=e.onLogin,d=void 0===l?function(e){return console.log(e)}:l;if(!t)return a.a.createElement("div",null,"bot name is undefined");window.TelegramLoginWidget={dataOnauth:function(e){return d(e)}};var b=document.createElement("script");b.src="https://telegram.org/js/telegram-widget.js?4",b.setAttribute("data-telegram-login",t),b.setAttribute("data-size",r),o&&b.setAttribute("data-radius",o.toString()),b.setAttribute("data-request-access",i),b.setAttribute("data-userpic",u.toString()),b.setAttribute("data-onauth","TelegramLoginWidget.dataOnauth(user)"),b.async=!0,this.instance.appendChild(b)}},{key:"render",value:function(){return a.a.createElement("div",{className:this.props.className,ref:this.setRef},this.props.children)}}]),t}(a.a.Component);function v(){var e=Object(b.a)(["\noutline: none;\nborder: 4px solid #9192a2;\nbackground-color: #343d3f;\ncolor: #9192a2;\nwidth: 200px;\nmin-height: 40px;\nfont-family: 'Major Mono Display', monospace;\nfont-size: 20px;\ntext-transform: uppercase;\n:hover{\nbackground-color: #9192a2;\ncolor: #343d3f;\n}\n:disabled{\nbackground-color: #343d3f;\nborder-color: #343d3f;\ncursor: not-allowed;\n}\n"]);return v=function(){return e},e}var j=f.a.button(v()),m=n(169),g=n.n(m),y=n(175),w=n(173),S=(n(224),function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).state={visible:!1},n.handleClose=function(){return n.setState({visible:!1})},n.handleOpen=function(){return n.setState({visible:!0})},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.body,r=Object(y.a)(e,["children","body"]),o=this.state.visible;return a.a.createElement("div",null,a.a.createElement("div",{onClick:this.handleOpen},t),a.a.createElement(w.a,Object.assign({},r,{onClose:this.handleClose,visible:o,footer:a.a.createElement(j,{onClick:this.handleClose},"Close")}),n))}}]),t}(a.a.Component)),k=n(118);function x(){var e=Object(b.a)(["\nborder-radius: 50%;\nmargin: 8px;"]);return x=function(){return e},e}var E,A=f.a.img(x()),z=function(e){var t=e.size,n=void 0===t?67:t,a=e.address;k.config({rows:8,cells:8});var o=a?k.create(a,{size:3*n}):"";return r.createElement(A,{src:o,width:n,height:n,alt:"Avatar"})};function C(){var e=Object(b.a)([":hover{color: #595565}"]);return C=function(){return e},e}function I(){var e=Object(b.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nuser-select: none;\nmargin-right: 15px;\n"]);return I=function(){return e},e}function B(){var e=Object(b.a)(["\ndisplay: flex;\nalign-items: center;\njustify-content: space-between;\nwidth: 100%;\n"]);return B=function(){return e},e}var _,P=f.a.div(B()),T=f.a.div(I()),W=Object(p.b)("notificationsStore","accountsStore")(E=Object(p.c)(E=function(e){function t(){var e,n;Object(i.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(u.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).handleCopyAddress=function(){var e=n.props,t=e.user,r=e.notificationsStore;t&&t.address?(g()(t.address.toString()),r.notify("Address was copied",{})):r.notify("Error: address is invalid",{})},n.handleTelegramResponse=function(e){console.log(n.props.accountsStore.updateUser(e).address)},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.user;return Object(h.c)(P,null,e&&e.address&&Object(h.c)(T,{onClick:this.handleCopyAddress},Object(h.c)(z,{address:e.address}),Object(h.c)("div",null,Object(h.c)("div",{css:Object(h.b)(C())},e.address),Object(h.c)("div",null,"balance:\xa0",e.balance,"\xa0waves"))),Object(h.c)(S,{title:"You can login with",body:Object(h.c)(T,null,Object(h.c)("div",null,"TELEGRAM: "),Object(h.c)(O,{botName:"HotWagerBot",onLogin:this.handleTelegramResponse}))},Object(h.c)(j,null,"Login")))}}]),t}(a.a.Component))||E)||E,D=n(172);function N(){var e=Object(b.a)(["\nmin-height: 100px;\nmin-width: 300px;\npadding: 20px;\nborder: solid 4px #9192a2;\ndisplay: flex;\nflex-direction: column;\n > * {\n  margin-bottom: 14px;\n }\n"]);return N=function(){return e},e}function U(){var e=Object(b.a)([""]);return U=function(){return e},e}function q(){var e=Object(b.a)(["\ndisplay: flex;\n\n flex-direction: column;\n > * {\n  margin: 14px;\n }\n"]);return q=function(){return e},e}function L(){var e=Object(b.a)(["\nheight: calc(100vh - 80px);\ndisplay: flex;\nalign-items: center;\nflex-direction: column;\njustify-content: space-between;\nmargin: 20px 60px;\n"]);return L=function(){return e},e}function R(){var e=Object(b.a)(["border-bottom: 1px solid"]);return R=function(){return e},e}var J=f.a.div(R()),H=[{title:"Index",dataIndex:"i",key:"i",width:100},{title:"Coef1",dataIndex:"k1",key:"k1",width:100,render:function(e,t){return 1===t.e?a.a.createElement(J,null,e/100):e/100}},{title:"Coef2",dataIndex:"k2",key:"k2",width:100,render:function(e,t){return 2===t.e?a.a.createElement(J,null,e/100):e/100}}],M=f.a.div(L()),F=(f.a.div(q()),f.a.div(U())),G=Object(p.b)("accountsStore","dappStore")(_=Object(p.c)(_=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.accountsStore.user,t=this.props.dappStore,n=t.k1,r=t.k2,o=t.story,c=t.chooseEvent,i=t.load,s=t.event1amount,u=t.event2amount,l=t.withdraw;return a.a.createElement(M,null,a.a.createElement(W,{user:e}),a.a.createElement(Y,{title:"Event I",chooseEvent:c,event:1,k:n,load:i,descr:s}),a.a.createElement(Y,{title:"Event II",chooseEvent:c,event:2,k:r,load:i,descr:u}),a.a.createElement(j,{disabled:i,onClick:l},"withdraw"),o&&a.a.createElement(D.a,{columns:H,data:o}),a.a.createElement(F,null,"HotWager\xa9"))}}]),t}(a.a.Component))||_)||_,X=f.a.div(N()),Y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.k,r=e.chooseEvent,o=e.load,c=e.event,i=e.descr;return a.a.createElement(X,null,a.a.createElement("div",null,a.a.createElement("b",null,t),"\xa0k",n&&n/100),a.a.createElement(j,{disabled:o,onClick:function(){return r(c)}},"Bet"),i&&a.a.createElement("div",null,t," win ",i/100))}}]),t}(a.a.Component),V=G;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var $,K,Q,Z,ee,te,ne,re,ae,oe,ce,ie,se,ue=n(27),le=n(30),de=n.n(le),be=n(62),pe=n(20),fe=n(21),he=(n(135),function e(t){Object(i.a)(this,e),this.rootStore=t}),Oe=n(2),ve=n(6),je=n(60),me=n.n(je),ge="3N3AeA5FWm7EHheHoik8BBEA3GXXJosnVY8",ye="https://testnode1.wavesnodes.com",we=($=function(e){function t(e,n){var r;return Object(i.a)(this,t),r=Object(u.a)(this,Object(l.a)(t).call(this,e)),Object(ue.a)(r,"user",K,Object(pe.a)(r)),r.serialize=function(){return{tgUser:r.user}},Object(ue.a)(r,"deserialize",Q,Object(pe.a)(r)),null!=n&&r.deserialize(n),r}return Object(d.a)(t,e),Object(s.a)(t,[{key:"updateUser",value:function(e){return this.user&&this.user.id===e.id||(e.seed=Object(ve.randomSeed)(),e.address=Object(ve.address)(e.seed,"T"),this.user=e),this.user}},{key:"updateBalance",value:function(){var e=Object(be.a)(de.a.mark((function e(){var t,n;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.user||!this.user.address){e.next=6;break}return e.next=3,me.a.get("".concat(ye,"/addresses/balance/").concat(this.user.address));case 3:t=e.sent,n=t.data.balance,this.user.balance=n/1e8;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),t}(he),K=Object(fe.a)($.prototype,"user",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Object(fe.a)($.prototype,"updateUser",[Oe.d],Object.getOwnPropertyDescriptor($.prototype,"updateUser"),$.prototype),Object(fe.a)($.prototype,"updateBalance",[Oe.d],Object.getOwnPropertyDescriptor($.prototype,"updateBalance"),$.prototype),Q=Object(fe.a)($.prototype,"deserialize",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){t.tgUser&&(e.user=t.tgUser)}}}),$),Se=n(121),ke=n(120),xe=n(50);function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(n,!0).forEach((function(t){Object(ke.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ze=(Z=function(e){function t(e){var n;return Object(i.a)(this,t),n=Object(u.a)(this,Object(l.a)(t).call(this,e)),Object(ue.a)(n,"k1",ee,Object(pe.a)(n)),Object(ue.a)(n,"k2",te,Object(pe.a)(n)),Object(ue.a)(n,"event1amount",ne,Object(pe.a)(n)),Object(ue.a)(n,"event2amount",re,Object(pe.a)(n)),Object(ue.a)(n,"count1",ae,Object(pe.a)(n)),Object(ue.a)(n,"count2",oe,Object(pe.a)(n)),Object(ue.a)(n,"story",ce,Object(pe.a)(n)),Object(ue.a)(n,"load",ie,Object(pe.a)(n)),n.startWatchState=function(){return Object(Oe.e)((function(e){return n.updateStateAndBalance()}),{scheduler:function(e){return setInterval(e,5e3)}})},Object(ue.a)(n,"updateStateAndBalance",se,Object(pe.a)(n)),n.chooseEvent=function(){var e=Object(be.a)(de.a.mark((function e(t){var r,a,o;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.rootStore.accountsStore.user&&n.rootStore.accountsStore.user.seed){e.next=3;break}return n.rootStore.notificationsStore.notify("invalid seed"),e.abrupt("return");case 3:r=n.rootStore.accountsStore.user.seed,n.load=!0,a={dApp:ge,feeAssetId:null,call:{function:"bet",args:[{type:"integer",value:t}]},payment:[{assetId:null,amount:1e8}],chainId:"T"},o=Object(xe.invokeScript)(a,r),Object(xe.broadcast)(o,ye).then((function(e){return console.log(e.id)})).catch((function(e){return alert(e)})),Object(xe.waitForTx)(o.id,{apiBase:"https://nodes-testnet.wavesnodes.com"}).then((function(e){n.load=!1}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.withdraw=Object(be.a)(de.a.mark((function e(){var t,r;return de.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.rootStore.accountsStore.user&&n.rootStore.accountsStore.user.seed){e.next=3;break}return n.rootStore.notificationsStore.notify("invalid seed"),e.abrupt("return");case 3:t={dApp:ge,feeAssetId:null,call:{function:"withdraw",args:[]},payment:[],chainId:"T"},r=Object(xe.invokeScript)(t,n.rootStore.accountsStore.user.seed),Object(xe.broadcast)(r,ye).then((function(e){return console.log(e.id)})).catch((function(e){return alert(e)})),Object(xe.waitForTx)(r.id,{apiBase:"https://nodes-testnet.wavesnodes.com"}).then((function(e){n.load=!1}));case 7:case"end":return e.stop()}}),e)}))),n.updateStateAndBalance(),n.startWatchState(),n}return Object(d.a)(t,e),t}(he),ee=Object(fe.a)(Z.prototype,"k1",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),te=Object(fe.a)(Z.prototype,"k2",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ne=Object(fe.a)(Z.prototype,"event1amount",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),re=Object(fe.a)(Z.prototype,"event2amount",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=Object(fe.a)(Z.prototype,"count1",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oe=Object(fe.a)(Z.prototype,"count2",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=Object(fe.a)(Z.prototype,"story",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ie=Object(fe.a)(Z.prototype,"load",[Oe.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),se=Object(fe.a)(Z.prototype,"updateStateAndBalance",[Oe.d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return Object(be.a)(de.a.mark((function t(){var n,r,a,o,c;return de.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.rootStore.accountsStore.user&&e.rootStore.accountsStore.user.address){t.next=2;break}return t.abrupt("return");case 2:return n=e.rootStore.accountsStore.user.address,e.rootStore.accountsStore.updateBalance(),t.next=6,me.a.get("".concat(ye,"/addresses/data/").concat(ge));case 6:r=t.sent,a=r.data,o=function(e,t){var n=t.key,r=t.value;return Ae({},e,Object(ke.a)({},n,r))},c=a.reduce(o,{}),e.k1=c.q1_next,e.k2=c.q2_next,e.count1=c.n,e.count2=c.m,e.event1amount=c["".concat(n,"_event1amount")],e.event2amount=c["".concat(n,"_event2amount")],e.story=Object.entries(c).filter((function(e){var t=Object(Se.a)(e,2);t[0];return t[1]===n})).map((function(e){return Object(Se.a)(e,1)[0].split("_")[0]})).map((function(e){return{e:c["".concat(e,"_event")],k1:c["".concat(e,"_qoef1")],k2:c["".concat(e,"_qoef2")],i:+e}}));case 17:case"end":return t.stop()}}),t)})))}}),Z),Ce=n(174),Ie=function(e){function t(e){var n;return Object(i.a)(this,t),(n=Object(u.a)(this,Object(l.a)(t).call(this,e)))._instance=void 0,Ce.a.newInstance({},(function(e){return n._instance=e})),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"notify",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.key&&this._instance.removeNotice(t.key),this._instance&&this._instance.notice({content:e,duration:t.duration||10,key:t.key,closable:t.closable,style:{right:"50%",background:"#343d3f"}})}}]),t}(he),Be=function e(t){var n=this;Object(i.a)(this,e),this.accountsStore=void 0,this.dappStore=void 0,this.notificationsStore=void 0,this.serialize=function(){return{accountsStore:n.accountsStore.serialize()}},null==t&&(t={}),this.accountsStore=new we(this,t.accountsStore),this.dappStore=new ze(this),this.notificationsStore=new Ie(this)},_e=(n(309),new Be(function(){try{return JSON.parse(localStorage.getItem("store"))||void 0}catch(e){return void console.log(e)}}()));Object(Oe.e)((function(){var e;console.dir(_e),e=_e.serialize(),localStorage.setItem("store",JSON.stringify(e))}),{delay:1e3}),c.a.render(a.a.createElement(p.a,_e,a.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},97:function(e,t){}},[[176,1,2]]]);
//# sourceMappingURL=main.3b1fd7fc.chunk.js.map